<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Sewa</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #e3f2fd; /* Biru muda */
            color: #0d47a1; /* Biru gelap untuk teks */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 10px;
        }
        .container {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            max-width: 400px; /* Agar tidak terlalu lebar */
            width: 100%;
        }
        h1 {
            text-align: center;
            color: #1976d2; /* Biru */
            margin-bottom: 15px;
            font-size: 18px;
        }
        label {
            display: block;
            margin-top: 8px;
            font-size: 14px;
        }
        input, select {
            width: 100%;
            padding: 6px;
            margin-top: 4px;
            border: 1px solid #90caf9; /* Biru muda */
            border-radius: 4px;
            box-sizing: border-box;
        }
        button {
            width: 100%;
            margin-top: 15px;
            padding: 8px;
            background-color: #1976d2; /* Biru */
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        button:hover {
            background-color: #1565c0; /* Biru gelap saat hover */
        }
        #result {
            margin-top: 15px;
            padding: 10px;
            background-color: #f3e5f5; /* Biru sangat muda untuk hasil */
            border: 1px solid #90caf9;
            border-radius: 4px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Kalkulator Perhitungan Sewa</h1>
        <form id="sewaForm">
            <label for="jenisObjek">Jenis Objek:</label>
            <select id="jenisObjek" required>
                <option value="">Pilih</option>
                <option value="tanah">Tanah</option>
                <option value="bangunan">Bangunan</option>
            </select>

            <label for="luas">Luas (m²):</label>
            <input type="number" id="luas" step="0.01" required>

            <label for="nilaiPerM2">Nilai per m²:</label>
            <input type="number" id="nilaiPerM2" step="0.01" required>

            <label for="jenisKegiatan">Jenis Kegiatan:</label>
            <select id="jenisKegiatan" required>
                <option value="">Pilih</option>
                <option value="bisnis">Bisnis</option>
                <option value="non-bisnis">Non-Bisnis</option>
                <option value="sosial">Sosial</option>
            </select>

            <div id="subBisnis" style="display: none;">
                <label for="koperasi">Koperasi?</label>
                <select id="koperasi">
                    <option value="tidak">Tidak</option>
                    <option value="ya">Ya</option>
                </select>
            </div>

            <div id="subNonBisnis" style="display: none;">
                <label for="subNonBisnisType">Jenis Non-Bisnis:</label>
                <select id="subNonBisnisType">
                    <option value="umum">Umum</option>
                    <option value="inisiasi">Inisiasi Satuan Kerja</option>
                    <option value="sarana">Sarana Prasarana Pendidikan</option>
                </select>
            </div>

            <label for="jangkaWaktu">Jangka Waktu (Tahun):</label>
            <input type="number" id="jangkaWaktu" min="1" max="5" required>

            <label for="caraBayar">Cara Pembayaran:</label>
            <select id="caraBayar" required>
                <option value="">Pilih</option>
                <option value="perbulan">Per Bulan</option>
                <option value="pertahun">Per Tahun</option>
                <option value="sekaligus">Sekaligus</option>
            </select>

            <button type="button" onclick="hitungSewa()">Hitung Sewa</button>
        </form>

        <div id="result"></div>
    </div>

    <script>
        function hitungSewa() {
            // Ambil nilai input
            const jenisObjek = document.getElementById('jenisObjek').value;
            const luas = parseFloat(document.getElementById('luas').value);
            const nilaiPerM2 = parseFloat(document.getElementById('nilaiPerM2').value);
            const jenisKegiatan = document.getElementById('jenisKegiatan').value;
            const jangkaWaktu = parseInt(document.getElementById('jangkaWaktu').value);
            const caraBayar = document.getElementById('caraBayar').value;

            // Koefisien
            let koefisien = 0;
            if (jenisObjek === 'tanah') koefisien = 0.0333;
            else if (jenisObjek === 'bangunan') koefisien = 0.0664;

            // Tarif Pokok
            const tarifPokok = koefisien * luas * nilaiPerM2;

            // Faktor Jenis
            let faktorJenis = 0;
            if (jenisKegiatan === 'bisnis') {
                const koperasi = document.getElementById('koperasi').value;
                faktorJenis = koperasi === 'ya' ? 0.25 : 1.0;
            } else if (jenisKegiatan === 'non-bisnis') {
                const subType = document.getElementById('subNonBisnisType').value;
                if (subType === 'inisiasi') faktorJenis = 0.15;
                else if (subType === 'sarana') faktorJenis = 0.10;
                else faktorJenis = 0.30;
            } else if (jenisKegiatan === 'sosial') {
                faktorJenis = 0.025;
            }

            // Faktor Periodesasi
            let faktorPeriodesasi = 0;
            if (jangkaWaktu === 1) {
                if (caraBayar === 'perbulan') faktorPeriodesasi = 1.3;
                else if (caraBayar === 'pertahun') faktorPeriodesasi = 1.0;
            } else if (jangkaWaktu > 1) {
                if (caraBayar === 'sekaligus') faktorPeriodesasi = 1.0;
                else if (caraBayar === 'pertahun') {
                    if (jangkaWaktu === 2) faktorPeriodesasi = 1.2;
                    else if (jangkaWaktu === 3) faktorPeriodesasi = 1.25;
                    else if (jangkaWaktu === 4) faktorPeriodesasi = 1.3;
                    else if (jangkaWaktu === 5) faktorPeriodesasi = 1.35;
                }
            }

            // Faktor Penyesuaian
            const faktorPenyesuaian = faktorJenis * faktorPeriodesasi;

            // Sewa Total
            const sewaTotal = tarifPokok * faktorPenyesuaian;

            // Output
            let result = `
                <h3>Hasil:</h3>
                <p>Tarif Pokok: Rp ${tarifPokok.toLocaleString('id-ID', { minimumFractionDigits: 2 })}</p>
                <p>Faktor: ${faktorPenyesuaian.toFixed(4)}</p>
                <p>Sewa Total: Rp ${sewaTotal.toLocaleString('id-ID', { minimumFractionDigits: 2 })}</p>
            `;

            if (caraBayar === 'perbulan') {
                const sewaPerBulan = sewaTotal / 12;
                result += `<p>Per Bulan: Rp ${sewaPerBulan.toLocaleString('id-ID', { minimumFractionDigits: 2 })}</p>`;
            } else if (caraBayar === 'pertahun' && jangkaWaktu > 1) {
                const sewaPerTahun = sewaTotal / jangkaWaktu;
                result += `<p>Per Tahun: Rp ${sewaPerTahun.toLocaleString('id-ID', { minimumFractionDigits: 2 })}</p>`;
            }

            document.getElementById('result').innerHTML = result;
        }

        // Tampilkan sub-form
        document.getElementById('jenisKegiatan').addEventListener('change', function() {
            const jenis = this.value;
            document.getElementById('subBisnis').style.display = jenis === 'bisnis' ? 'block' : 'none';
            document.getElementById('subNonBisnis').style.display = jenis === 'non-bisnis' ? 'block' : 'none';
        });
    </script>
</body>
</html>
